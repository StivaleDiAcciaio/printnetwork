<!--PANNELLO CONTROLLO -->
<!-- Sezione visibile solo in MOBILE -->
<div class="intestazionePannello visible-xs">
    <!--Bottone per nascondere/mostrare il menu laterale-->
    <div class="divToggleMenu"> 
        <a id="toggleLeftMenu" ng-click="isCollapsedHorizontal = !isCollapsedHorizontal">
            <i ng-class="isCollapsedHorizontal ? 'fa fa-toggle-off' : 'fa fa-toggle-on'"></i>
        </a>
    </div>
    <!-- Menu laterale -->
    <aside class="col-sm-12 menuLateraleSinistroMobile">
        <nav class="horizontal-collapse" uib-collapse="isCollapsedHorizontal" horizontal>   
            <div class="wrapperBoxRicercaIndirizzo">
                <div class="testoCercaIndirizzo"> 
                    <input id="cercaMobile"
                           places-auto-complete size=80
                           ng-model="indirizzo.cercato"
                           component-restrictions="{country:'it'}"
                           on-place-changed="indirizzoSelezionato()" type="text" placeholder="Indirizzo">
                </div>
                <div class="iconaCercaIndirizzo" ng-click="resetCercaIndirizzo()">
                    <i ng-class="indirizzoTrovato ? 'placeChangedClass glyphicon glyphicon-remove' : 'placeChangedClass glyphicon glyphicon-search'"></i>
                </div>
            </div>
            <div ng-show="indirizzoTrovato" class="indirizzoTrovato">
                <i class="glyphicon glyphicon-map-marker"></i> <a href="javascript:void(0)" ng-click="centraMappa(locationTrovata)">{{indirizzoTrovato}}</a>
            </div>
            <div class="geoPosizioneWrapper">
                <div ng-class="posizioneRilevata ? 'gps si' : 'gps no'">
                    <i class="glyphicon glyphicon-screenshot"></i> 
                </div>
                <div ng-if="posizioneRilevata" class="linkPosizione">
                    <a href="javascript:void(0)" ng-click="centraMappa()">{{indirizzoRilevato}}</a>
                </div>
                <div ng-if="!posizioneRilevata" class="linkPosizione">
                    <a href="javascript:void(0)">nessuna posizione rilevata</a>
                </div>
            </div>
            <ul class="listaVociMobile nav nav-sidebar">             
                <li class="active"><a href="#pannelloControllo">Voce 1-mobile</a></li>             
                <li><a href="#pannelloControllo">Voce 2-mobile</a></li>             
                <li><a href="#pannelloControllo">Voce 3-mobile</a></li>          
            </ul>      
        </nav> 
    </aside>
</div>
<!-- /Sezione visibile solo in MOBILE -->

<div class="col-xs-12">
    <!-- Sezione visibile solo in DESKTOP -->
    <aside class="col-sm-3 hidden-xs menuLateraleSinistroDesktop">
        <nav>       
            <div class="wrapperBoxRicercaIndirizzo">
                <div class="testoCercaIndirizzo"> 
                    <input id="cercaDesktop"
                           places-auto-complete size=80
                           ng-model="indirizzo.cercato"
                           component-restrictions="{country:'it'}"
                           types="['address']" 
                           ng-change="testoIndirizzoChanged()"
                           on-place-changed="indirizzoSelezionato()" placeholder="Indirizzo">
                </div>
                <div class="iconaCercaIndirizzo" ng-click="resetCercaIndirizzo()">
                    <i ng-class="indirizzoTrovato ? 'placeChangedClass glyphicon glyphicon-remove' : 'placeChangedClass glyphicon glyphicon-search'"></i>
                </div>
            </div>
            <div ng-show="indirizzoTrovato" class="indirizzoTrovato">
                <i class="glyphicon glyphicon-map-marker"></i> <a href="javascript:void(0)" ng-click="centraMappa(locationTrovata)">{{indirizzoTrovato}}</a>
            </div>
            <div class="geoPosizioneWrapper">
                <div ng-class="posizioneRilevata ? 'gps si' : 'gps no'">
                    <i class="glyphicon glyphicon-screenshot"></i> 
                </div>
                <div ng-if="posizioneRilevata" class="linkPosizione">
                    <a href="javascript:void(0)" ng-click="centraMappa()">{{indirizzoRilevato}}</a>
                </div>
                <div ng-if="!posizioneRilevata" class="linkPosizione">
                    <a href="javascript:void(0)">nessuna posizione rilevata</a>
                </div>
            </div>
            <ul class="listaVociDesktop nav nav-sidebar">             
                <li class="active"><a href="#pannelloControllo">Voce 1-desktop</a></li>             
                <li><a href="#pannelloControllo">Voce 2-desktop</a></li>             
                <li><a href="#pannelloControllo">Voce 3-desktop</a></li>          
            </ul>      
        </nav>
    </aside> 
    <!-- /Sezione visibile solo in DESKTOP -->
    <!-- contenuto principale del pannello di controllo -->
    <section class="col-sm-9 col-xs-12 contenutoPannelloControllo">
       <!--Slider per CERCHIO-->
       <div>
            <rzslider rz-slider-model="slider.raggioCerchio" rz-slider-options="slider.options"></rzslider>
       </div>
        <div>
            <ng-map id="mappaPannelloControllo" 
                    zoom="{{zoomCalcolato}}" 
                    default-style="false" 
                    center="{{posCentroMappa}}">
                <div ng-if="map && !isGeoFallback()">
                    <shape id="cerchioRicerca" name="circle" centered="true"
                           stroke-color='green' stroke-opacity="0.8" stroke-weight="2"
                           center="{{slider.posizioneCerchio.lat()}},{{slider.posizioneCerchio.lng()}}" radius="{{slider.raggioCerchio}}" editable="false" ></shape>
                    <custom-marker  ng-repeat="utPds in arrayMarkerPDS|filter:'true' track by $index" 
                                    id="pds-marker-{{$index}}"
                                    position="{{utPds.geoposizione.lat()}},{{utPds.geoposizione.lng()}}">
                        <div class="markerWrapper" ng-click="markerPDSonClick(utPds)">
                            <i class="glyphicon glyphicon-map-marker {{utPds.classe}}"></i>
                        </div>
                    </custom-marker>
                </div>
            </ng-map>
            <div ng-show="pdsSelezionato" class="col-md-offset-2 col-md-8 col-md-offset-2 col-xs-12 row infoPDS" ng-class="pdsSelezionato?'boxInfoPdsActive':'boxInfoPdsNoActive'">
                <div class="col-xs-12"><span class="label">Nick: {{pdsSelezionato.nick}}</span><span class="close" type="button" ng-click="infoPDScancel()">Ã—</span></div>
                <div class="col-xs-12"><span class="label">Indirizzo: {{pdsSelezionato.indirizzo.descrizione}}</span></div>
                <div class="col-xs-12"><div ng-if="pdsSelezionato.tipologiaStampa.stampa2D"><span class="label">Stampa2D: {{pdsSelezionato.tipologiaStampa.stampa2D.colore=='C'?'a colori':'bianco&nero'}}, formati:<span ng-repeat="frmt in pdsSelezionato.tipologiaStampa.stampa2D.formato">{{frmt.value}} </span></span></div>  
                                       <div ng-if="pdsSelezionato.tipologiaStampa.stampa3D"><span class="label">Stampa3D: materiale {{pdsSelezionato.tipologiaStampa.stampa3D.materiale}}-H.{{pdsSelezionato.tipologiaStampa.stampa3D.altezza}},L.{{pdsSelezionato.tipologiaStampa.stampa3D.larghezza}},P.{{pdsSelezionato.tipologiaStampa.stampa3D.profondita}}</span></div>  
                </div>
                <div class="col-xs-12">
                    <div ng-if="pdsSelezionato.tipologiaUtente=='P'"><span class="label">tipo utente: Privato</span></div>
                    <div ng-if="pdsSelezionato.tipologiaUtente=='A'"><span class="label">tipo utente: Attivita' commerciale</span></div>
                                            
                </div>
                <div class="col-md-6 col-xs-12">
                    <span class="label">feedback:</span>
                    <span ng-class="pdsSelezionato.feedback==0?'glyphicon glyphicon-star-empty':'glyphicon glyphicon-star colorStar'"></span>
                    <span ng-class="(pdsSelezionato.feedback==2 || pdsSelezionato.feedback>2)?'glyphicon glyphicon-star colorStar':'glyphicon glyphicon-star-empty'"></span>
                    <span ng-class="(pdsSelezionato.feedback==3 || pdsSelezionato.feedback>3)?'glyphicon glyphicon-star colorStar':'glyphicon glyphicon-star-empty'"></span>
                    <span ng-class="(pdsSelezionato.feedback==4 || pdsSelezionato.feedback>4)?'glyphicon glyphicon-star colorStar':'glyphicon glyphicon-star-empty'"></span>
                    <span ng-class="pdsSelezionato.feedback==5?'glyphicon glyphicon-star colorStar':'glyphicon glyphicon-star-empty'"></span>
                </div>
                <div class="col-md-6 col-xs-12">
                    <button class="btn btn-xs btn-primary">richiedi stampa</button> 
                    <button class="btn btn-xs btn-primary">calcola percorso</button> 
                </div>
            </div>
            <div ng-show="pdsSelezionato && pdsSelezionato.utentiPDSstessoIndirizzo" class="col-md-offset-2 col-md-8 col-md-offset-2 col-xs-12 row infoMorePDS" ng-class="pdsSelezionato?'boxInfoPdsActive':'boxInfoPdsNoActive'">
                <div ng-repeat="utsPds in pdsSelezionato.utentiPDSstessoIndirizzo track by $index">
                    <div class="col-xs-8"><span class="label">{{utsPds.nick}}</span></div>
                    <div class="col-xs-4">
                        <span ng-class="utsPds.feedback==0?'glyphicon glyphicon-star-empty':'glyphicon glyphicon-star colorStar'"></span>
                        <span ng-class="(utsPds.feedback==2 || utsPds.feedback>2)?'glyphicon glyphicon-star colorStar':'glyphicon glyphicon-star-empty'"></span>
                        <span ng-class="(utsPds.feedback==3 || utsPds.feedback>3)?'glyphicon glyphicon-star colorStar':'glyphicon glyphicon-star-empty'"></span>
                        <span ng-class="(utsPds.feedback==4 || utsPds.feedback>4)?'glyphicon glyphicon-star colorStar':'glyphicon glyphicon-star-empty'"></span>
                        <span ng-class="utsPds.feedback==5?'glyphicon glyphicon-star colorStar':'glyphicon glyphicon-star-empty'"></span>
                    </div>
                </div>   
            </div>
            <div id="infoPDSscroll"></div>
        </div>
    </section>
</div>