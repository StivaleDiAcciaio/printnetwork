<!--PANNELLO CONTROLLO -->
<!-- Sezione visibile solo in MOBILE -->
<div class="intestazionePannello visible-xs">
    <!--Bottone per nascondere/mostrare il menu laterale-->
    <div class="divToggleMenu"> 
        <a id="toggleLeftMenu" ng-click="isCollapsedHorizontal = !isCollapsedHorizontal">
            <i ng-class="isCollapsedHorizontal ? 'fa fa-toggle-off' : 'fa fa-toggle-on'"></i>
        </a>
    </div>
    <!-- Menu laterale -->
    <aside class="col-sm-12 menuLateraleSinistroMobile">
        <nav class="horizontal-collapse" uib-collapse="isCollapsedHorizontal" horizontal>   
            <div>
                <rzslider rz-slider-model="slider.raggioCerchio"
                          rz-slider-options="slider.options"></rzslider>
            </div>
            <div class="wrapperBoxRicercaIndirizzo">
                <div class="testoCercaIndirizzo"> 
                    <input id="cercaMobile"
                           places-auto-complete size=80
                           ng-model="indirizzo.cercato"
                           component-restrictions="{country:'it'}"
                           on-place-changed="indirizzoSelezionato()" type="text" placeholder="Indirizzo">
                </div>
                <div class="iconaCercaIndirizzo" ng-click="resetCercaIndirizzo()">
                    <i ng-class="indirizzoTrovato ? 'placeChangedClass glyphicon glyphicon-remove' : 'placeChangedClass glyphicon glyphicon-search'"></i>
                </div>
            </div>
            <div ng-show="indirizzoTrovato" class="indirizzoTrovato">
                <i class="glyphicon glyphicon-map-marker"></i> <a href="javascript:void(0)" ng-click="centraMappa(locationTrovata)">{{indirizzoTrovato}}</a>
            </div>
            <div class="geoPosizioneWrapper">
                <div ng-class="posizioneRilevata ? 'gps si' : 'gps no'">
                    <i class="glyphicon glyphicon-screenshot"></i> 
                </div>
                <div ng-if="posizioneRilevata" class="linkPosizione">
                    <a href="javascript:void(0)" ng-click="centraMappa()">{{indirizzoRilevato}}</a>
                </div>
                <div ng-if="!posizioneRilevata" class="linkPosizione">
                    <a href="javascript:void(0)">nessuna posizione rilevata</a>
                </div>
            </div>
            <ul class="listaVociMobile nav nav-sidebar">             
                <li class="active"><a href="#pannelloControllo">Voce 1-mobile</a></li>             
                <li><a href="#pannelloControllo">Voce 2-mobile</a></li>             
                <li><a href="#pannelloControllo">Voce 3-mobile</a></li>          
            </ul>      
        </nav> 
    </aside>
</div>
<!-- /Sezione visibile solo in MOBILE -->

<div class="col-xs-12">
    <!-- Sezione visibile solo in DESKTOP -->
    <aside class="col-sm-3 hidden-xs menuLateraleSinistroDesktop">
        <nav>       
            <div>
                <rzslider rz-slider-model="slider.raggioCerchio"
                          rz-slider-options="slider.options"></rzslider>
            </div>
            <div class="wrapperBoxRicercaIndirizzo">
                <div class="testoCercaIndirizzo"> 
                    <input id="cercaDesktop"
                           places-auto-complete size=80
                           ng-model="indirizzo.cercato"
                           component-restrictions="{country:'it'}"
                           types="['address']" 
                           ng-change="testoIndirizzoChanged()"
                           on-place-changed="indirizzoSelezionato()" placeholder="Indirizzo">
                </div>
                <div class="iconaCercaIndirizzo" ng-click="resetCercaIndirizzo()">
                    <i ng-class="indirizzoTrovato ? 'placeChangedClass glyphicon glyphicon-remove' : 'placeChangedClass glyphicon glyphicon-search'"></i>
                </div>
            </div>
            <div ng-show="indirizzoTrovato" class="indirizzoTrovato">
                <i class="glyphicon glyphicon-map-marker"></i> <a href="javascript:void(0)" ng-click="centraMappa(locationTrovata)">{{indirizzoTrovato}}</a>
            </div>
            <div class="geoPosizioneWrapper">
                <div ng-class="posizioneRilevata ? 'gps si' : 'gps no'">
                    <i class="glyphicon glyphicon-screenshot"></i> 
                </div>
                <div ng-if="posizioneRilevata" class="linkPosizione">
                    <a href="javascript:void(0)" ng-click="centraMappa()">{{indirizzoRilevato}}</a>
                </div>
                <div ng-if="!posizioneRilevata" class="linkPosizione">
                    <a href="javascript:void(0)">nessuna posizione rilevata</a>
                </div>
            </div>
            <ul class="listaVociDesktop nav nav-sidebar">             
                <li class="active"><a href="#pannelloControllo">Voce 1-desktop</a></li>             
                <li><a href="#pannelloControllo">Voce 2-desktop</a></li>             
                <li><a href="#pannelloControllo">Voce 3-desktop</a></li>          
            </ul>      
        </nav>
    </aside> 
    <!-- /Sezione visibile solo in DESKTOP -->
    <!-- contenuto principale del pannello di controllo -->
    <section class="col-sm-9 col-xs-12 contenutoPannelloControllo">
        <div>
            <ng-map id="mappaPannelloControllo" 
                    zoom="{{zoomCalcolato}}" 
                    default-style="false" 
                    center="{{posCentroMappa}}">
                <div ng-if="map && !isGeoFallback()">
                    <shape id="cerchioRicerca" name="circle" centered="true"
                           stroke-color='green' stroke-opacity="0.8" stroke-weight="2"
                           center="{{slider.posizioneCerchio.lat()}},{{slider.posizioneCerchio.lng()}}" radius="{{slider.raggioCerchio}}" editable="false" ></shape>
                    <custom-marker  ng-repeat="utPds in arrayMarkerPDS|filter:'true' track by $index" 
                                    id="pds-marker-{{$index}}"
                                    position="{{utPds.geoposizione.lat()}},{{utPds.geoposizione.lng()}}">
                        <div class="markerWrapper" ng-click="markerPDSonClick(utPds)">
                            <i class="glyphicon glyphicon-map-marker {{utPds.classe}}"></i>
                        </div>
                    </custom-marker>
                </div>
            </ng-map>
            <div ng-if="pdsSelezionato" class="infoPDS row">
                <div class="col-md-2 col-xs-12">Nick: {{pdsSelezionato.nick}}</div>
                <div class="col-md-6 col-xs-12">Tip.Stampa: {{pdsSelezionato.tipologiaStampa.stampa2D?'2d':''}} {{pdsSelezionato.tipologiaStampa.stampa3D?'3d':''}}</div>
                <div class="col-md-4 col-xs-12">indirizzo: {{pdsSelezionato.indirizzo.descrizione}} <button class="close" type="button" ng-click="infoPDScancel()">Ã—</button></div>
                <div class="col-md-2 col-xs-12">feedback: {{pdsSelezionato.feedback}}</div>
                <div class="col-md-2 col-xs-12">tipo utente: {{pdsSelezionato.tipologiaUtente}}</div>
                <div class="col-md-offset-2 col-md-6 col-xs-12">
                    <button class="btn btn-xs btn-primary">richiedi stampa</button> 
                    <button class="btn btn-xs btn-primary">calcola percorso</button> 
                </div>
            </div>
            <div id="infoPDSscroll"></div>
        </div>
    </section>
</div>